!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).EmblaCarouselAutoplay=t()}(this,(function(){"use strict";const n={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function t(o={}){let e,i,r,a=!1,s=!1,l=!1,p=0,c=0;function u(){if(r)return;a||i.emit("autoplay:play");const{ownerWindow:n}=i.internalEngine();n.clearInterval(c),c=n.setInterval(y,e.delay),a=!0}function d(){if(r)return;a&&i.emit("autoplay:stop");const{ownerWindow:n}=i.internalEngine();n.clearInterval(c),c=0,a=!1}function f(n){void 0!==n&&(l=n),u()}function y(){p=requestAnimationFrame((()=>{const{index:n}=i.internalEngine(),t=n.clone().add(1).get(),o=i.scrollSnapList().length-1;e.stopOnLastSnap&&t===o&&d(),i.canScrollNext()?i.scrollNext(l):i.scrollTo(0,l)}))}return{name:"autoplay",options:o,init:function(p,c){if(i=p,i.scrollSnapList().length<=1)return;const{mergeOptions:f,optionsAtMedia:y}=c,m=f(n,t.globalOptions),O=f(m,o);e=y(O),l=e.jump,r=!1;const{eventStore:g,ownerDocument:I}=i.internalEngine(),v=i.rootNode(),b=e.rootNode&&e.rootNode(v)||v;i.on("pointerDown",d),e.stopOnInteraction||i.on("pointerUp",u),e.stopOnMouseEnter&&(g.add(b,"mouseenter",d),e.stopOnInteraction||g.add(b,"mouseleave",u)),e.stopOnFocusIn&&(g.add(b,"focusin",d),e.stopOnInteraction||g.add(b,"focusout",u)),g.add(I,"visibilitychange",(()=>{if("hidden"===I.visibilityState)return s=a,d();s&&u()})),e.playOnInit&&i.on("init",u).on("reInit",u)},destroy:function(){r=!0,a=!1,i.off("init",u).off("reInit",u),i.off("pointerDown",d),e.stopOnInteraction||i.off("pointerUp",u),d(),cancelAnimationFrame(p),p=0},play:f,stop:function(){a&&d()},reset:function(){a&&f()},isPlaying:function(){return a}}}return t.globalOptions=void 0,t}));
