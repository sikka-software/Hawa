System.register(["jotai/vanilla"],function(P){"use strict";var f;return{setters:[function(W){f=W.atom}],execute:function(){P({atomFamily:J,atomWithDefault:X,atomWithObservable:et,atomWithReducer:z,atomWithReset:T,atomWithStorage:tt,createJSONStorage:R,freezeAtom:K,freezeAtomCreator:q,loadable:ot,selectAtom:F,splitAtom:U,unwrap:at});const W=P("RESET",Symbol(""));function T(e){const n=f(e,(o,c,i)=>{const r=typeof i=="function"?i(o(n)):i;c(n,r===W?e:r)});return n}function z(e,n){const o=f(e,(c,i,r)=>i(o,n(c(o),r)));return o}function J(e,n){let o=null;const c=new Map,i=r=>{let t;if(n===void 0)t=c.get(r);else for(const[u,s]of c)if(n(u,r)){t=s;break}if(t!==void 0)if(o!=null&&o(t[1],r))i.remove(r);else return t[0];const a=e(r);return c.set(r,[a,Date.now()]),a};return i.remove=r=>{if(n===void 0)c.delete(r);else for(const[t]of c)if(n(t,r)){c.delete(t);break}},i.setShouldRemove=r=>{if(o=r,!!o)for(const[t,a]of c)o(a[1],t)&&c.delete(t)},i}const L=(e,n,o)=>(n.has(o)?n:n.set(o,e())).get(o),$=new WeakMap,C=(e,n,o,c)=>{const i=L(()=>new WeakMap,$,n),r=L(()=>new WeakMap,i,o);return L(e,r,c)};function F(e,n,o=Object.is){return C(()=>{const c=Symbol(),i=([t,a])=>{if(a===c)return n(t);const u=n(t,a);return o(a,u)?a:u},r=f(t=>{const a=t(r),u=t(e);return u instanceof Promise||a instanceof Promise?Promise.all([u,a]).then(i):i([u,a])});return r.init=c,r},e,n,o)}const I=new WeakMap,_=(e,n)=>(I.has(n)?I:I.set(n,e())).get(n),x=e=>{if(typeof e!="object"||e===null)return;Object.freeze(e);const n=Object.getOwnPropertyNames(e);for(const o of n){const c=e[o];x(c)}return e};function K(e){return _(()=>f(n=>x(n(e)),(n,o,c)=>o(e,c)),e)}function q(e){return(...n)=>{const o=e(...n),c=o.read;return o.read=function(i,r){return x(c.call(this,i,r))},o}}const A=(e,n,o)=>(n.has(o)?n:n.set(o,e())).get(o),B=new WeakMap,G=(e,n,o)=>{const c=A(()=>new WeakMap,B,n);return A(e,c,o)},H={},j=e=>!!e.write,Q=e=>typeof e=="function";function U(e,n){return G(()=>{const o=new WeakMap,c=(t,a)=>{let u=o.get(t);if(u)return u;const s=a&&o.get(a),l=[],m=[];return t.forEach((w,b)=>{const v=n?n(w):b;m[b]=v;const y=s&&s.atomList[s.keyList.indexOf(v)];if(y){l[b]=y;return}const O=p=>{const d=p(i),g=p(e),k=c(g,d==null?void 0:d.arr).keyList.indexOf(v);if(k<0||k>=g.length){const h=t[c(t).keyList.indexOf(v)];if(h)return h;throw new Error("splitAtom: index out of bounds for read")}return g[k]},M=(p,d,g)=>{const k=p(i),h=p(e),S=c(h,k==null?void 0:k.arr).keyList.indexOf(v);if(S<0||S>=h.length)throw new Error("splitAtom: index out of bounds for write");const N=Q(g)?g(h[S]):g;Object.is(h[S],N)||d(e,[...h.slice(0,S),N,...h.slice(S+1)])};l[b]=j(e)?f(O,M):f(O)}),s&&s.keyList.length===m.length&&s.keyList.every((w,b)=>w===m[b])?u=s:u={arr:t,atomList:l,keyList:m},o.set(t,u),u},i=f(t=>{const a=t(i),u=t(e);return c(u,a==null?void 0:a.arr)});i.init=void 0;const r=j(e)?f(t=>t(i).atomList,(t,a,u)=>{switch(u.type){case"remove":{const s=t(r).indexOf(u.atom);if(s>=0){const l=t(e);a(e,[...l.slice(0,s),...l.slice(s+1)])}break}case"insert":{const s=u.before?t(r).indexOf(u.before):t(r).length;if(s>=0){const l=t(e);a(e,[...l.slice(0,s),u.value,...l.slice(s)])}break}case"move":{const s=t(r).indexOf(u.atom),l=u.before?t(r).indexOf(u.before):t(r).length;if(s>=0&&l>=0){const m=t(e);s<l?a(e,[...m.slice(0,s),...m.slice(s+1,l),m[s],...m.slice(l)]):a(e,[...m.slice(0,l),m[s],...m.slice(l,s),...m.slice(s+1)])}break}}}):f(t=>t(i).atomList);return r},e,n||H)}function X(e){const n=Symbol(),o=f(n),c=f((i,r)=>{const t=i(o);return t!==n?t:e(i,r)},(i,r,t)=>{if(t===W)r(o,n);else if(typeof t=="function"){const a=i(c);r(o,t(a))}else r(o,t)});return c}const Y=e=>typeof(e==null?void 0:e.then)=="function";function R(e){let n,o;const c={getItem:(i,r)=>{var t,a;const u=l=>{if(l=l||"",n!==l){try{o=JSON.parse(l)}catch{return r}n=l}return o},s=(a=(t=e())==null?void 0:t.getItem(i))!=null?a:null;return Y(s)?s.then(u):u(s)},setItem:(i,r)=>{var t;return(t=e())==null?void 0:t.setItem(i,JSON.stringify(r))},removeItem:i=>{var r;return(r=e())==null?void 0:r.removeItem(i)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(c.subscribe=(i,r,t)=>{if(!(e()instanceof window.Storage))return()=>{};const a=u=>{if(u.storageArea===e()&&u.key===i){let s;try{s=JSON.parse(u.newValue||"")}catch{s=t}r(s)}};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),c}const Z=R(()=>typeof window<"u"?window.localStorage:void 0);function tt(e,n,o=Z,c){const i=c==null?void 0:c.getOnInit,r=f(i?o.getItem(e,n):n);return r.onMount=t=>{i||t(o.getItem(e,n));let a;return o.subscribe&&(a=o.subscribe(e,t,n)),a},f(t=>t(r),(t,a,u)=>{const s=typeof u=="function"?u(t(r)):u;return s===W?(a(r,n),o.removeItem(e)):s instanceof Promise?s.then(l=>(a(r,l),o.setItem(e,l))):(a(r,s),o.setItem(e,s))})}function et(e,n){const o=i=>{if("e"in i)throw i.e;return i.d},c=f(i=>{var r;let t=e(i);const a=(r=t[Symbol.observable])==null?void 0:r.call(t);a&&(t=a);let u;const s=()=>new Promise(d=>{u=d}),l=n&&"initialValue"in n?{d:typeof n.initialValue=="function"?n.initialValue():n.initialValue}:s();let m,w;const b=d=>{w=d,u==null||u(d),m==null||m(d)};let v,y;const O=()=>!m,M=()=>{v&&(clearTimeout(y),v.unsubscribe()),v=t.subscribe({next:d=>b({d}),error:d=>b({e:d}),complete:()=>{}}),O()&&n!=null&&n.unstable_timeout&&(y=setTimeout(()=>{v&&(v.unsubscribe(),v=void 0)},n.unstable_timeout))};M();const p=f(w||l);return p.onMount=d=>(m=d,w&&d(w),v?clearTimeout(y):M(),()=>{m=void 0,v&&(v.unsubscribe(),v=void 0)}),[p,t,s,M,O]});return f(i=>{const[r]=i(c),t=i(r);return t instanceof Promise?t.then(o):o(t)},(i,r,t)=>{const[a,u,s,l,m]=i(c);if("next"in u)m()&&(r(a,s()),l()),u.next(t);else throw new Error("observable is not subject")})}const E=new WeakMap,nt=(e,n)=>(E.has(n)?E:E.set(n,e())).get(n),V={state:"loading"};function ot(e){return nt(()=>{const n=new WeakMap,o=f(0),c=f((i,{setSelf:r})=>{i(o);let t;try{t=i(e)}catch(s){return{state:"hasError",error:s}}if(!(t instanceof Promise))return{state:"hasData",data:t};const a=t;return n.get(a)||(n.set(a,V),a.then(s=>{n.set(a,{state:"hasData",data:s})},s=>{n.set(a,{state:"hasError",error:s})}).finally(r),V)},(i,r)=>{r(o,t=>t+1)});return f(i=>i(c))},e)}const D=(e,n,o)=>(n.has(o)?n:n.set(o,e())).get(o),rt=new WeakMap,st=(e,n,o)=>{const c=D(()=>new WeakMap,rt,n);return D(e,c,o)},it=()=>{};function at(e,n=it){return st(()=>{const o=new WeakMap,c=new WeakMap,i=f(0),r=f((t,{setSelf:a})=>{t(i);const u=t(r),s=t(e);if(!(s instanceof Promise))return{v:s};if(s===(u==null?void 0:u.p)){if(o.has(s))throw o.get(s);if(c.has(s))return{p:s,v:c.get(s)}}return s!==(u==null?void 0:u.p)&&s.then(l=>c.set(s,l),l=>o.set(s,l)).finally(a),u&&"v"in u?{p:s,f:n(u.v),v:u.v}:{p:s,f:n()}},(t,a)=>{a(i,u=>u+1)});return r.init=void 0,f(t=>{const a=t(r);return"f"in a?a.f:a.v},(t,a,...u)=>a(e,...u))},e,n)}}}});
